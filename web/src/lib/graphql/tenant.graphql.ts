import { gql } from 'urql'

// Tenant Queries
export const GET_TENANTS_QUERY = gql`
  query GetAllTenants(
    $page: Int!
    $perPage: Int!
    $search: String
    $sortBy: String
    $sortOrder: String
  ) {
    tenants(
      page: $page
      perPage: $perPage
      search: $search
      sortBy: $sortBy
      sortOrder: $sortOrder
    ) {
      success
      message
      data {
        tenants {
          id
          name
          slug
          domain
          createdBy
          createdAt
        }
        total
        page
        perPage
      }
    }
  }
`

export const GET_TENANT_QUERY = gql`
  query GetTenant($id: ID!) {
    tenant(id: $id) {
      success
      message
      data {
        id
        uuid
        name
        slug
        domain
        isNameAutoGenerated
        createdBy
        createdAt
        updatedAt
      }
    }
  }
`

export const GET_TENANT_BY_SLUG_QUERY = gql`
  query GetTenantBySlug($slug: String!) {
    tenantBySlug(slug: $slug) {
      success
      message
      data {
        id
        name
        slug
        domain
      }
    }
  }
`

// Tenant Mutations
export const CREATE_TENANT_MUTATION = gql`
  mutation CreateTenant($input: CreateTenantInput!) {
    createTenant(input: $input) {
      success
      message
      data {
        id
        uuid
        name
        slug
        domain
        createdAt
      }
    }
  }
`

export const UPDATE_TENANT_MUTATION = gql`
  mutation UpdateTenant($input: UpdateTenantInput!) {
    updateTenant(input: $input) {
      success
      message
      data {
        id
        name
        domain
        updatedAt
      }
    }
  }
`

export const DELETE_TENANT_MUTATION = gql`
  mutation DeleteTenant($id: ID!) {
    deleteTenant(id: $id) {
      success
      message
    }
  }
`

// TypeScript Interfaces
export interface Tenant {
  id: string
  uuid?: string
  name: string
  slug: string
  domain?: string
  isNameAutoGenerated?: boolean
  createdBy?: string
  createdAt: string
  updatedAt?: string
}

export interface TenantsData {
  tenants: Tenant[]
  total: number
  page: number
  perPage: number
}

export interface TenantsResponse {
  tenants: {
    success: boolean
    message: string
    data: TenantsData
  }
}

export interface TenantResponse {
  tenant: {
    success: boolean
    message: string
    data: Tenant
  }
}

export interface CreateTenantInput {
  name: string
  slug?: string
  domain?: string
}

export interface UpdateTenantInput {
  id: string
  name?: string
  domain?: string
}

export interface CreateTenantResponse {
  createTenant: {
    success: boolean
    message: string
    data: Tenant
  }
}

export interface UpdateTenantResponse {
  updateTenant: {
    success: boolean
    message: string
    data: Tenant
  }
}

export interface DeleteTenantResponse {
  deleteTenant: {
    success: boolean
    message: string
  }
}
