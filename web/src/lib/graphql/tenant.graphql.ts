import { gql } from 'urql'

// Tenant Queries
export const GET_TENANTS_QUERY = gql`
  query GetAllTenants(
    $page: Int!
    $perPage: Int!
    $search: String
    $sortBy: String
    $sortOrder: String
  ) {
    tenants(
      page: $page
      perPage: $perPage
      search: $search
      sortBy: $sortBy
      sortOrder: $sortOrder
    ) {
      success
      message
      data {
        tenants {
          id
          name
          slug
          domain
          createdBy
          createdAt
        }
        total
        page
        perPage
      }
    }
  }
`

export const GET_TENANT_QUERY = gql`
  query GetTenant($id: ID!) {
    tenant(id: $id) {
      success
      message
      data {
        id
        uuid
        name
        slug
        domain
        isNameAutoGenerated
        createdBy
        createdAt
        updatedAt
      }
    }
  }
`

export const GET_TENANT_BY_SLUG_QUERY = gql`
  query GetTenantBySlug($slug: String!) {
    tenantBySlug(slug: $slug) {
      success
      message
      data {
        id
        name
        slug
        domain
      }
    }
  }
`

// Tenant Mutations
export const CREATE_TENANT_MUTATION = gql`
  mutation CreateTenant($input: CreateTenantInput!) {
    createTenant(input: $input) {
      success
      message
      data {
        id
        uuid
        name
        slug
        domain
        createdAt
      }
    }
  }
`

export const UPDATE_TENANT_MUTATION = gql`
  mutation UpdateTenant($input: UpdateTenantInput!) {
    updateTenant(input: $input) {
      success
      message
      data {
        id
        name
        domain
        updatedAt
      }
    }
  }
`

export const DELETE_TENANT_MUTATION = gql`
  mutation DeleteTenant($id: ID!) {
    deleteTenant(id: $id) {
      success
      message
    }
  }
`

// Tenant Users Queries
export const GET_TENANT_USERS_QUERY = gql`
  query GetTenantUsers($tenantId: ID!) {
    tenantUsers(tenantId: $tenantId) {
      success
      message
      data {
        id
        userId
        tenantId
        email
        role
        isDefault
        createdAt
      }
    }
  }
`

// Tenant Users Mutations
export const ADD_USER_TO_TENANT_MUTATION = gql`
  mutation AddUserToTenant($input: AddUserToTenantInput!) {
    addUserToTenant(input: $input) {
      success
      message
      data {
        id
        userId
        tenantId
        role
        isDefault
        email
      }
    }
  }
`

export const REMOVE_USER_FROM_TENANT_MUTATION = gql`
  mutation RemoveUserFromTenant($userId: ID!, $tenantId: ID!) {
    removeUserFromTenant(userId: $userId, tenantId: $tenantId) {
      success
      message
    }
  }
`

export const UPDATE_USER_ROLE_MUTATION = gql`
  mutation UpdateUserRole($input: UpdateUserRoleInput!) {
    updateUserRole(input: $input) {
      success
      message
    }
  }
`

/**
 * GraphQL Input Types
 * These are used for mutations
 */
export interface CreateTenantInput {
  name: string
  slug?: string
  domain?: string
}

export interface UpdateTenantInput {
  id: string
  name?: string
  domain?: string
}

export interface AddUserToTenantInput {
  userId: string
  tenantId: string
  role: 'owner' | 'admin' | 'member' | 'guest'
  isDefault?: boolean
}

export interface UpdateUserRoleInput {
  userId: string
  tenantId: string
  role: 'owner' | 'admin' | 'member' | 'guest'
}

/**
 * Note: Response types moved to @/types/api.ts
 * Import from '@/types' instead of this file
 *
 * Available types:
 * - Tenant
 * - TenantsData
 * - TenantsResponse
 * - TenantResponse
 * - CreateTenantResponse
 * - UpdateTenantResponse
 * - DeleteTenantResponse
 */
